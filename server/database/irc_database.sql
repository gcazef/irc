CREATE TABLE `Message` (
	`id` INT NOT NULL AUTO_INCREMENT,
	`content` TEXT NOT NULL,
	`date` DATETIME NOT NULL,
	`user` VARCHAR(21) NOT NULL,
	`channel` VARCHAR(21) NOT NULL,
	PRIMARY KEY (`id`)
);

CREATE TABLE `User` (
	`id` INT NOT NULL AUTO_INCREMENT,
	`name` VARCHAR(21) NOT NULL UNIQUE,
	`pwdhash` VARCHAR(200) NOT NULL,
	PRIMARY KEY (`id`)
);

CREATE TABLE `Channel` (
	`id` INT NOT NULL AUTO_INCREMENT,
	`name` VARCHAR(21) NOT NULL UNIQUE,
	PRIMARY KEY (`id`)
);

ALTER TABLE `Message` ADD CONSTRAINT `Message_fk0` FOREIGN KEY (`user`) REFERENCES `User`(`name`) ON DELETE CASCADE;

ALTER TABLE `Message` ADD CONSTRAINT `Message_fk1` FOREIGN KEY (`channel`) REFERENCES `Channel`(`name`) ON DELETE CASCADE;

